<!doctype html>
<html lang="en-ca">
	<meta charset="utf-8">
	<title>bento sampler + sequencer</title>
	<meta
		name="description"
		content="a little box with several layers of compartments full of tasty treats">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/style.css">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="application-name" content="bento">
	<meta name="apple-mobile-web-app-title" content="bento">
	<meta property="og:title" content="bento">
	<meta property="og:description" content="a sampler and sequencer">
	<meta property="og:image" content="/graphics/apple-touch-icon.png?0">
	<meta name="twitter:card" content="summary">
	<link rel="apple-touch-icon" href="/graphics/apple-touch-icon.png?0">
	<link rel="manifest" href="/app.webmanifest">
	<script src="/extend-native-prototypes.js"></script>
	<script type="module">
		import * as elements from "/custom-elements/custom-elements.js"
		elements.init()
	</script>

	<h1 screenreader>bento</h1>
	<audio
		class="iphone-silence"
		src="/sounds/iphone-silence.flac"
		loop
		autoplay
		preload="auto">
	</audio>
	<bento-party class="bento" theme="cherries">
		<article class="machine" onsubmit="event.preventDefault()">
			<header>
				<fieldset class="master-controls machine-controls">
					<legend screenreader>Master Controls</legend>
					<input
						type="button"
						name="play"
						value="▶&#xfe0e;"
						aria-label="Start or restart the music">
					<input
						type="button"
						name="pause"
						value="⏸&#xfe0e;"
						aria-label="Pause the music">
					<input
						type="button"
						name="stop"
						value="⏹&#xfe0e;"
						aria-label="Stop the music">
					<input
						name="bpm"
						type="number"
						inputmode="decimal"
						max="240"
						min="20"
						value="120"
						autocomplete="off"
						aria-label="Set the bpm">
				</fieldset>

				<fieldset class="layer-selector machine-controls" autocomplete="off" >
					<legend screenreader>Selected layer</legend>

					<label class="checked" draggable="true">
						<span screenreader>layer a</span>
						<input type="radio" name="layer" checked value="0" autocomplete="off" >
					</label>

					<label draggable="true">
						<span screenreader>layer b</span>
						<input type="radio" name="layer" value="1" autocomplete="off" >
					</label>

					<label draggable="true">
						<span screenreader>layer c</span>
						<input type="radio" name="layer" value="2" autocomplete="off" >
					</label>

					<label draggable="true">
						<span screenreader>layer d</span>
						<input type="radio" name="layer" value="3" autocomplete="off" >
					</label>

				</fieldset>

				<fieldset class="layer-options machine-controls">
					<legend screenreader>Layer Options</legend>
					<select
						autocomplete="off"
						name="speed"
						aria-label="fractional speed of layer calculated from bpm">
						<option value="0.25" data-label="¼">
							120×¼
						</option>
						<option value="0.5" data-label="½">
							120×½
						</option>
						<option value="1" selected>
							120×1
						</option>
						<option value="2">
							120×2
						</option>
						<option value="4">
							120×4
						</option>
						<optgroup label="ethically non-monogamous">
							<option value="0.75" data-label="¾">
								120×¾
							</option>
							<option value="3">
								120×3
							</option>
						</optgroup>
					</select>

					<select
						aria-label="Length of layer"
						autocomplete="off"
						name="length">
						<option value="16" selected>
							16
						</option>
						<option value="15">
							15
						</option>
						<option value="14">
							14
						</option>
						<option value="13">
							13
						</option>
						<option value="12">
							12
						</option>
						<option value="11">
							11
						</option>
						<option value="10">
							10
						</option>
						<option value="9">
							9
						</option>
						<option value="8">
							8
						</option>
						<option value="7">
							7
						</option>
						<option value="6">
							6
						</option>
						<option value="5">
							5
						</option>
						<option value="4">
							4
						</option>
						<option value="3">
							3
						</option>
						<option value="2">
							2
						</option>
					</select>
					<label
						aria-label="Upload a sound from your computer"
						class="upload"
						hidden>
						↥
						<input
							type="file"
							accept="audio/*"
							name="upload">
					</label>
					<button class="recorder" aria-label="Record a sound">
						●
					</button>
				</fieldset>
			</header>

			<article class="screen" data-mode="wav">
				<figure class="waveform wav">
					<canvas alt=""></canvas>
					<figcaption hidden>waveform</figcaption>
				</figure>
				<div class="tape">
					<p class="message">recording</p>
					<figure class="svg">
						<figcaption screenreader>recording</figcaption>
					</figure>
					<p class="counter">•</p>
				</div>
			</article>

			<nav class="screen-selector machine-controls" chee>
				<fieldset>
					<legend screenreader>Screen</legend>
					<label class="checked">
						wav
						<input type="radio" name="screen" checked value="wav">
					</label>

					<label hidden>
						env
						<input type="radio" name="screen" value="env">
					</label>

					<label>
						mix
						<input type="radio" name="screen" value="mix">
					</label>

					<label hidden>
						fx
						<input type="radio" name="screen" value="fx">
					</label>
				</fieldset>
			</nav>

			<bento-grid></bento-grid>

			<dialog class="save-dialog">
				<button class="close button" aria-label="close">
					✝
				</button>
				<div class="content">
					<input
						class="button"
						name="save"
						type="button"
						aria-label="Save your bento for later"
						value="save bento for later">
				</div>
			</dialog>
		</article>

	</bento-party>
	<script type="module" src="/machine.js"></script>
